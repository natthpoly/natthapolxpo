title EDC Void Journey
actor Tourist
activate Tourist
activate EDC
Tourist->EDC:Show QR for EDC scan
EDC-->Tourist:Scan QR
deactivate Tourist
EDC->Collect Spending:POST /v1/collect-spending/verify?token=xxxxxxxx
Collect Spending->Collect Spending: Verify tokens
activate Tourist Profile
Collect Spending->Tourist Profile: Verify Account
alt 200, Success
Tourist Profile-->Collect Spending: 200, Success
else 4xx, Account not activate
Tourist Profile-->Collect Spending: 4xx, Account not active
else 404, Account not found
Tourist Profile-->Collect Spending: 404, Account not found
else 4xx, Invalid tokens
Tourist Profile-->Collect Spending: 4xx, Invalid tokens
else 5xx, Something went wrong
Tourist Profile-->Collect Spending: 5xx Something went wrong
end
deactivate Tourist Profile
Collect Spending-->EDC:302, Redirect EDC form, add token on cookie
EDC->Collect Spending: POST /v1/collect-spending/void?token=xxxxx
alt 200, Success
Collect Spending-->EDC: 200, Success
else 404, Account not found
Collect Spending-->EDC: 404, Transaction not found
else 4xx, Account not activate
Collect Spending-->EDC: 404, Account not activate
else 4xx, Invalid tokens
Collect Spending-->EDC: 4xx, Invalid tokens
else 5xx, Something went wrong
Collect Spending-->EDC: 5xx Something went wrong
end